<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Magic</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Tangerine&display=swap" rel="stylesheet">
</head>
<body>
  <div id="light"></div>
  <div id="dumbledore">
    <p class="quote" id="part1">Happiness can be found, even in the darkest of times, </p>
    <p class="quote" id="part2">if one only remembers </p>
    <p class="quote" id="part3">to turn on the light</p>
  </div>

<script>
  let pressed = []; 
  const secretCode = "lumos"; 
  const superSecret = "LUMOS MAXIMA"
  console.log(`Try casting a spell to shed some light on the situation, like "${secretCode}" or "${superSecret}"`); 
  let wand = document.getElementById("light"); 
  let quote = document.getElementById("dumbledore"); 
  window.addEventListener("keyup", (e) => {
    pressed.push(e.key); 
    // keep array length equal to length of secret code, discarding oldest entries 
    pressed.splice((-superSecret.length-1), (pressed.length-superSecret.length)); 
    let code = pressed.join(""); 
    if (code == superSecret) {
      wand.classList.add("lumosMaxima"); 
      quote.classList.add("faded"); 
      setTimeout(() => {
        wand.classList.remove("lumosMaxima")
        quote.classList.remove("faded"); 
      }, 5000); 
    } else if (code.includes(secretCode)) {
      wand.classList.add("lumos"); 
      quote.classList.add("faded"); 
      setTimeout(() => {
        wand.classList.remove("lumos")
        quote.classList.remove("faded"); 
        // remove "lumos" from end of array to avoid duplicate animations
        pressed.splice(-5, 5); 
      }, 5000); 
    }
  })
</script>
</body>
</html>
